{% extends "layout/base.html" %}
{% block title %}Khu KhÃ¡ch HÃ ng{% endblock %}

{# ThÃªm CSS riÃªng cho trang + animation #}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/customer_home.css') }}"/>

<div class="hero-welcome fade-in-up mt-4 p-5 border rounded">
    <h2 class="mb-2">
        Xin chÃ o,
        {{ session.get('user_name')
        or (session.get('user_email') and session.get('user_email').split('@')[0])
        or 'báº¡n' }}
        <span class="wave">ğŸ‘‹</span>
    </h2>
    <p class="mb-1">Báº¡n Ä‘ang Ä‘Äƒng nháº­p vá»›i vai trÃ² <strong>Customer</strong>.</p>
    <p class="text-muted mb-0">Táº¡i Ä‘Ã¢y báº¡n cÃ³ thá»ƒ xem mÃ³n Äƒn, Ä‘áº·t hÃ ng, theo dÃµi Ä‘Æ¡n hÃ ng cá»§a mÃ¬nh.</p>
</div>

<div class="container mt-4">
  <div class="title-row d-flex align-items-center justify-content-between gap-3 flex-wrap mb-2">
    <h3 class="m-0">Danh sÃ¡ch 50 nhÃ  hÃ ng</h3>
    <div class="title-underline"></div>
  </div>

  {% if restaurants %}
    <div class="row g-3">
      {% for res in restaurants %}
        <div class="col-md-4">
          <div class="card restaurant-card h-100 shadow-sm hover-lift">
            {% if res.image %}
              <div class="img-wrap">
                <img src="{{ res.image }}" class="card-img-top" alt="{{ res.name }}">
              </div>
            {% else %}
              <div class="img-wrap">
                <img src="https://via.placeholder.com/800x400?text=No+Image" class="card-img-top" alt="No image">
              </div>
            {% endif %}
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mt-1 mb-2 text-truncate" title="{{ res.name }}">{{ res.name }}</h5>
              <p class="card-text text-muted small flex-grow-1 two-lines" title="{{ res.address }}">{{ res.address }}</p>
              <div class="mt-2 d-flex justify-content-center">
                <a href="/restaurant/{{ res.restaurant_id }}" class="btn btn-primary btn-detail pulse-on-hover">Xem chi tiáº¿t</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">ChÆ°a cÃ³ nhÃ  hÃ ng nÃ o trong há»‡ thá»‘ng.</p>
  {% endif %}
</div>
{% endblock %}

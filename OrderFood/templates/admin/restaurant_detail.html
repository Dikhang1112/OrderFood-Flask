{% include "/admin/sidebar.html" %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/restaurant_detail.css') }}"/>
<main class="page container mt-4">
    <div class="rd-header">
        <div class="rd-title">
            <!-- icon nhà hàng -->
            <svg class="rd-icon" viewBox="0 0 24 24">
                <path d="M3 9l9-6 9 6v10a2 2 0 0 1-2 2h-4v-6H9v6H5a2 2 0 0 1-2-2z" fill="currentColor"/>
            </svg>
            <span>Chi tiết: {{ res.name }}</span>
        </div>
    </div>

    <div class="rd-wrap">
        <!-- Cột trái: ảnh -->
        <div class="rd-imgs">
            <div class="rd-img-block">
                <div class="rd-label">Ảnh nhà hàng</div>
                <img class="rd-img" src="{{ res.image }}" alt="{{ res.name }}">
            </div>
            <div class="rd-img-block">
                <div class="rd-label">Ảnh chủ nhà hàng</div>
                <img class="rd-img"
                     src="{{ res.owner.user.avatar or url_for('static', filename='img/owner1.jpg') }}"
                     alt="Owner">
            </div>
        </div>

        <!-- Cột phải: thông tin -->
        <div class="rd-meta">
            <div class="rd-item">
      <span class="rd-icon">
        <!-- icon map -->
        <svg viewBox="0 0 24 24"><path
                d="M12 2a7 7 0 0 1 7 7c0 5-7 13-7 13S5 14 5 9a7 7 0 0 1 7-7zm0 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"
                fill="currentColor"/></svg>
      </span>
                <div>
                    <div class="rd-label">Địa chỉ</div>
                    <div class="rd-value">{{ res.address or "—" }}</div>
                </div>
            </div>

            <div class="rd-item">
      <span class="rd-icon">
        <!-- icon clock -->
        <svg viewBox="0 0 24 24"><path d="M12 8v5l4 2M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20z" fill="none"
                                       stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </span>
                <div>
                    <div class="rd-label">Giờ hoạt động</div>
                    <div class="rd-value">{{ res.open_hour or "—" }} – {{ res.close_hour or "—" }}</div>
                </div>
            </div>

            <div class="rd-item">
  <span class="rd-icon">
    <!-- icon star -->
    <svg viewBox="0 0 24 24"><path d="M12 17.3l-5.5 3 1.5-6.1L3 9.9l6.2-.5L12 3l2.8 6.4 6.2.5-5 4.3 1.5 6.1z"
                                   fill="currentColor"/></svg>
  </span>
                <div>
                    <div class="rd-label">Đánh giá</div>

                    {% set score = res.rating_point or 0 %}
                    {% set pct = (score * 20) if score <= 5 else 100 %}

                    <div class="rd-rating">
                        <div class="stars">
                            <div class="stars-bg">★★★★★</div>
                            <div class="stars-fg" style="width: {{ '%.0f' % pct }}%">★★★★★</div>
                        </div>
                        <span class="rd-score">{{ '%.1f'|format(score) }}</span>
                    </div>
                </div>
            </div>


            <div class="rd-item">
      <span class="rd-icon">
        <!-- icon phone -->
        <svg viewBox="0 0 24 24"><path
                d="M22 16.92v3a2 2 0 0 1-2.18 2A19.79 19.79 0 0 1 3.1 5.18 2 2 0 0 1 5 3h3a2 2 0 0 1 2 1.72c.12.81.37 1.6.72 2.33a2 2 0 0 1-.45 2.11L9 10a16 16 0 0 0 5 5l.84-.84a2 2 0 0 1 2.11-.45c.73.35 1.52.6 2.33.72A2 2 0 0 1 20 16.92z"
                fill="currentColor"/></svg>
      </span>
                <div>
                    <div class="rd-label">Số điện thoại</div>
                    <div class="rd-value">{{ res.owner.user.phone or "Chưa có số điện thoại" }}</div>
                </div>
            </div>

            <div class="rd-item">
      <span class="rd-icon">
        <!-- icon tax (document) -->
        <svg viewBox="0 0 24 24"><path d="M6 2h9l5 5v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z" fill="none"
                                       stroke="currentColor" stroke-width="2"/><path d="M14 2v6h6" fill="none"
                                                                                     stroke="currentColor"
                                                                                     stroke-width="2"/></svg>
      </span>
                <div>
                    <div class="rd-label">Mã số thuế</div>
                    <div class="rd-value">{{ res.owner.tax or "Chưa đăng ký mã số thuế" }}</div>
                </div>
            </div>

            <div class="rd-actions">
                {% if res.status %}
                <span class="rd-badge {{ 'approved' if res.status.value=='APPROVED'
                     else 'pending'  if res.status.value=='PENDING'
                     else 'rejected' }}">
      {{ res.status.value }}
    </span>
                {% endif %}

                <!-- Nút Quay lại thứ 2 nếu bạn muốn 2 nút -->
                <a href="{{ url_for('admin.admin_restaurant') }}" class="btn-back" title="Quay lại danh sách">
                    <svg width="18" height="18" viewBox="0 0 24 24">
                        <path d="M15 18l-6-6 6-6" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round"/>
                    </svg>
                    Quay lại
                </a>
            </div>
        </div>
    </div>
</main>

